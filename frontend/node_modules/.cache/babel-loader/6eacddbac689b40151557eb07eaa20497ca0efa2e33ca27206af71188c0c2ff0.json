{"ast":null,"code":"// Type definitions for API responses\n\nconst API = {\n  login: (username, password) => fetch('/api/auth/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }).then(r => r.json()),\n  googleLogin: credential => fetch('/api/auth/google', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      credential\n    })\n  }).then(r => r.json()),\n  logout: token => fetch('/api/auth/logout', {\n    method: 'POST',\n    headers: {\n      'X-Auth-Token': token\n    }\n  }).then(r => r.json()),\n  listCourses: token => fetch('/api/courses', {\n    headers: {\n      'X-Auth-Token': token\n    }\n  }).then(r => r.json()),\n  getSpecialisations: token => fetch('/api/courses/specialisations', {\n    headers: {\n      'X-Auth-Token': token\n    }\n  }).then(r => r.json()),\n  createCourse: (token, course) => fetch('/api/courses', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Auth-Token': token\n    },\n    body: JSON.stringify(course)\n  }).then(async r => {\n    try {\n      const data = await r.json();\n      if (!r.ok) {\n        console.error('API error response:', data);\n        return {\n          error: data.error || 'Failed to create course'\n        };\n      }\n      return data;\n    } catch (err) {\n      console.error('JSON parse error:', err);\n      return {\n        error: 'Failed to parse server response'\n      };\n    }\n  }).catch(err => {\n    console.error('Network error:', err);\n    return {\n      error: 'Network error occurred'\n    };\n  }),\n  deleteCourse: (token, id) => fetch(`/api/courses/${id}`, {\n    method: 'DELETE',\n    headers: {\n      'X-Auth-Token': token\n    }\n  }).then(r => r.json()),\n  updateCourse: (token, id, course) => fetch(`/api/courses/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Auth-Token': token\n    },\n    body: JSON.stringify(course)\n  }).then(async r => {\n    try {\n      const data = await r.json();\n      if (!r.ok) {\n        console.error('API error response:', data);\n        return {\n          error: data.error || 'Failed to update course'\n        };\n      }\n      return data;\n    } catch (err) {\n      console.error('JSON parse error:', err);\n      return {\n        error: 'Failed to parse server response'\n      };\n    }\n  }).catch(err => {\n    console.error('Network error:', err);\n    return {\n      error: 'Network error occurred'\n    };\n  })\n};\nexport default API;","map":{"version":3,"names":["API","login","username","password","fetch","method","headers","body","JSON","stringify","then","r","json","googleLogin","credential","logout","token","listCourses","getSpecialisations","createCourse","course","data","ok","console","error","err","catch","deleteCourse","id","updateCourse"],"sources":["/Users/prateek/Desktop/esd/frontend/src/api.ts"],"sourcesContent":["// Type definitions for API responses\nexport interface User {\n  id: number;\n  email: string;\n  fullName: string;\n  role: string;\n}\n\nexport interface Course {\n  id: number;\n  code: string;\n  title: string;\n  description: string;\n  credits: number;\n  specialisations?: string[];\n}\n\nexport interface Specialisation {\n  id: number;\n  name: string;\n  code: string;\n}\n\nexport interface AuthResponse {\n  token: string;\n  email: string;\n  role: string;\n  fullName?: string;\n}\n\nexport interface ErrorResponse {\n  error: string;\n}\n\nexport interface MessageResponse {\n  message: string;\n}\n\nexport interface CourseRequest {\n  code: string;\n  title: string;\n  description: string;\n  credits: number;\n  specialisationIds?: number[];\n}\n\nconst API = {\n  login: (username: string, password: string): Promise<AuthResponse | ErrorResponse> =>\n    fetch('/api/auth/login', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, password })\n    }).then(r => r.json()),\n\n  googleLogin: (credential: string): Promise<AuthResponse | ErrorResponse> =>\n    fetch('/api/auth/google', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ credential })\n    }).then(r => r.json()),\n\n  logout: (token: string): Promise<MessageResponse> =>\n    fetch('/api/auth/logout', {\n      method: 'POST',\n      headers: { 'X-Auth-Token': token }\n    }).then(r => r.json()),\n\n  listCourses: (token: string): Promise<Course[]> =>\n    fetch('/api/courses', {\n      headers: { 'X-Auth-Token': token }\n    }).then(r => r.json()),\n\n  getSpecialisations: (token: string): Promise<Specialisation[]> =>\n    fetch('/api/courses/specialisations', {\n      headers: { 'X-Auth-Token': token }\n    }).then(r => r.json()),\n\n  createCourse: (token: string, course: CourseRequest): Promise<Course | ErrorResponse> =>\n    fetch('/api/courses', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Auth-Token': token\n      },\n      body: JSON.stringify(course)\n    }).then(async r => {\n      try {\n        const data = await r.json();\n        if (!r.ok) {\n          console.error('API error response:', data);\n          return { error: data.error || 'Failed to create course' };\n        }\n        return data;\n      } catch (err) {\n        console.error('JSON parse error:', err);\n        return { error: 'Failed to parse server response' };\n      }\n    }).catch(err => {\n      console.error('Network error:', err);\n      return { error: 'Network error occurred' };\n    }),\n\n  deleteCourse: (token: string, id: number): Promise<MessageResponse | ErrorResponse> =>\n    fetch(`/api/courses/${id}`, {\n      method: 'DELETE',\n      headers: { 'X-Auth-Token': token }\n    }).then(r => r.json()),\n\n  updateCourse: (token: string, id: number, course: CourseRequest): Promise<Course | ErrorResponse> =>\n    fetch(`/api/courses/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Auth-Token': token\n      },\n      body: JSON.stringify(course)\n    }).then(async r => {\n      try {\n        const data = await r.json();\n        if (!r.ok) {\n          console.error('API error response:', data);\n          return { error: data.error || 'Failed to update course' };\n        }\n        return data;\n      } catch (err) {\n        console.error('JSON parse error:', err);\n        return { error: 'Failed to parse server response' };\n      }\n    }).catch(err => {\n      console.error('Network error:', err);\n      return { error: 'Network error occurred' };\n    })\n};\n\nexport default API;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}